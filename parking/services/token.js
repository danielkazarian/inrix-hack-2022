import fetch from 'node-fetch'

const APP_ID = '9cu0cs0fli'
const HASH_TOK = 'OWN1MGNzMGZsaXxCUW5RVkJlWkRqMUR1ZkNXUVZEcjUxUzZTMkxkV2tGYzM4Z01aemRn'
let url = `https://api.iq.inrix.com/auth/v1/appToken?appId=${APP_ID}&hashToken=${HASH_TOK}`;

// let tempBearerToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcHBJZCI6IjU5cXNvcjl2dWIiLCJ0b2tlbiI6eyJpdiI6ImY2YjRlYTMzNzZjNjllNjFlZjRlOGJjY2Y3MmI5NzFkIiwiY29udGVudCI6ImZhZWMxZWFlMDFmZTBiZGM4OWMzN2FmZWUyNDU3YmI0ZDBkMmQ1YTZmYzQ5NDZlNzYyOThmYjYxMzQ5MzIyNmI0NzkwZWFiZjg4ODA3NWEwYTgzMjIzYjgwMDg3ODljN2E4NGFlNTM2NTFhYzI3ODcxZmNhZWM5YmIwOGZlNDE0NjQ2MzRjYTlkY2EwMzU1M2U5N2QzYWJkYWNkYjE5ZmM0MGQ4MTI2MjIzMDEyZWU0M2FmNTllYzA2ZjdhZjczYmJhZGM1ZDQ1Y2Y2MWRkNTM1NWU2OGE5NWZmZDg5MGFkODU3ZjZhM2U4YjY1NTVhMWZmM2E2MmYzNWJhNWIzMTE0MGUwNjc5NzQ3MzEyYjUwOGYxY2RiMjBmNmQ0NjRlOWE0ODA3MmVhMjQyMjlhNzAxODc3ZDMxMjI1YjRlOTRiNWFmOWEwYTFlZTlhNGNmZGJmZDJjOGViZDZmYWEyMTA4NzMwMDBmOWQ3YTBhZTZhOGZmZmIwMTRhODMyZTJlMmNjMmUzMTJjYmRhYTcxOWU5NmJmM2I0NTAxNzAzNWUxMDUyMjk5MjcwMWI1YTg1ZThmOTQyNTViNTBjYjg1NzI3ZmY3Mjk2OTM5ZDkzOTY3YWVkMjIwN2MzODA3MjRjODg3MDgwNGI1YzJkYTYyMmUwODVhZWFlYjMxNGY0ZTU1ODBmN2Q3MDcyYmUyYjkzMzUwNmU1NDkwMGUwODljNTZlNzA5NDQ3YjhlOGMzOTQwMzY4NGFjYzgyMzRkZTAwMDcxYTRmY2FlOTI1NWNiODAxNDllNmIyODRlNjZkMjg2ZTczZTczY2JjYmQ3NWNjODM5NTg3YzQyNzZjNDg2OTY0ODg5Yjg0ZDlhODEwMDJkNWRjN2EzIn0sInNlY3VyaXR5VG9rZW4iOnsiaXYiOiJmNmI0ZWEzMzc2YzY5ZTYxZWY0ZThiY2NmNzJiOTcxZCIsImNvbnRlbnQiOiJhY2RjM2E4NTI2ZWY1ZWZjOTdlZDU2ODZkMjA5NzRmMmZhOTZjNjgwZDk3MTZlODY1NmI1ZmUwZDEwZDIzMzA2MjdhNmQxY2NkMGQyNmViMGE0MDMzMjg2In0sImp0aSI6IjFmZGY3Y2IxLTBlNzYtNGE4MS1hMDA5LWI0NTBkOGFmMWI0NSIsImlhdCI6MTY2ODMyNjA2MiwiZXhwIjoxNjY4MzI5NjYyfQ.C73wkYaxtF8H888JwJTYHmbE6Ila0qMiiEQZKspOE_8'
 let tempBearerToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcHBJZCI6IjljdTBjczBmbGkiLCJ0b2tlbiI6eyJpdiI6Ijg0NGU0NTRjY2VmODA5ZGI3MzY5MTk2NDllZmJiMDczIiwiY29udGVudCI6ImE1MTRiNjdjOGZjOWU1YTdkZDc1ZWUwMTVlZGI1ODRkMjJkMjNmZWJkYWMzMDgwY2I4MmI1ZDMxYWU2NmYwOGQwZGIxOWViOGZlMmI1NzdiOWI2ZmQwNGVmMzQ5NDZhNjc0NmZkZjZlMjMyN2ZhOTc2ODE3ODI0ODI0OThlODlmMWVhN2M4ODAwZThjNTU2YzRiNWFkMjcwM2E2NWJiNjhjNzExZDY2NWY5YWZjZGE2OGZjMmZkOTQwY2E5MjEwMTk2MTlkMTIwZjA1NWQ3MWQyYzJkMTRiZjM2OWY3NjE3NzQ5ZDZiNjJkYmQxMGQxZDM1ZTA4MmUzZjFjNjJhMmM5NmZmMDdiNDAyMWM0MzUwMDQwYmMwZjQ4NGE2ZDIyOTNhNDQ3OTE0MTQxNTVmYWNlNzE2ZDJjN2Q4ODUxOGM1NWQzNzYyYTkwOGVjYzhmNjgxMTI0OTllZDVlNDg0ZWExM2ZhODM3M2U1OWFhNTJlYmE0MjM5ZWM2ODc3NTNkMjBiOWVmNzM4NWU4NjYyZWE0YzI2NWY2NTcwNGQ1YTNhZGI3MzBiYTU1YmQwOGY0MzE4MmU1MWIzNzEzZDQ1OTE5ZjY0MmRkYzA4MWVkZmY0NDJmMTNhMzdkMzA4NWU2MDczN2RiOWE5ZTYzMzdhYTkxNTJjNGVlMmQ4M2VhNmE4ZGRlZTFhYjIyOTMwNjNmOGM3MmM1Yzc3MDAyYzEyN2M1YmYxNDAyZTU4ZjVjMjdkY2I5MWZiMTdmNjhmOGFlZGQ5YWRhZDllODE1ODcwM2Q2MzhlY2RlYzUwMjRmYjg4ZDgzOTg1ZDg2NmYyNThmYTI0MzIzNjRmOTNiMzY0MTg2Y2NmYTJkY2VkZjcyODg3MzdkNGY0In0sInNlY3VyaXR5VG9rZW4iOnsiaXYiOiI4NDRlNDU0Y2NlZjgwOWRiNzM2OTE5NjQ5ZWZiYjA3MyIsImNvbnRlbnQiOiJiMzI4ZDYyNThlZTBjMWEzYTI3ZmVlNzg2N2Q2NmIyZjM4ZjAzOWUwYjllYjNiNjk5MTI0NGQ2Y2Q3NGNlMzk3MWRhMDkzYzNlOTBmNjY2MGI2NDFhMDcwIn0sImp0aSI6ImIyZTM1M2ZjLTdkMDQtNGRkZC05NDllLTY4ZTIxN2M4Y2ZlYyIsImlhdCI6MTY2ODMzMzc0NSwiZXhwIjoxNjY4MzM3MzQ1fQ.UnGb4iZe2iug0P4a-Be75lzYHjeRTxzWKaanz-BDTac'
 
// app.get(port, function () {
//    console.log("Server has been started at " + port);
 
//    fetch( url, {
//        method: "GET"
//    })
//    .then((res) => res.json())
//    .then(function(data) {
//        console.log(data);
//    })
// });

const getBearerToken = async () => {
    const requestOptions = {
        method: 'GET',
    }

    const response = await fetch(url, requestOptions)
    const data = await response.json()
    const bearerToken = data.result.token

    console.log(bearerToken)

    return bearerToken
}

// tempBearerToken = getBearerToken()

export { getBearerToken, tempBearerToken }